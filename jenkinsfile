pipeline
{
    parameters
    {
        choice( name: 'terraformAction', choices:['apply','destroy'], description:'choose any terraformAction')
    }
    environment
    {
        AWS_ACCESS_KEY_ID = credentials('AWS_ACCESS_KEY_ID')
        AWS_SECRET_ACCESS_KEY = credentials ('AWS_SECRET_ACCESS_KEY')
    }
    agent any
    stages
    {
        stage('git-checkout')
        {
            steps
            {
              git branch:'terraform-project-1',url:'https://github.com/MYPROJECTS555/terraform_project.git'
            }
            
        }
        stage('plan')
        {
        steps
              {
              sh '''
              pwd                                    // it print the working dir
              cd project-realtime/                  // it go inside the project-realtime folder
              terraform init                       // making the terraform folder or initialzation
              terraform plan -out tfplan          
              terraform show -no-color tfplan < tfplan.txt
              '''
             }

        }
    
    
    }
    
}
